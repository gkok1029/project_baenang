ALTER TABLE POST
	DROP
		CONSTRAINT FK_MEMBER_TO_POST
		CASCADE;

ALTER TABLE LIKEY
	DROP
		CONSTRAINT FK_POST_TO_LIKEY
		CASCADE;

ALTER TABLE LIKEY
	DROP
		CONSTRAINT FK_MEMBER_TO_LIKEY
		CASCADE;

ALTER TABLE REPLY
	DROP
		CONSTRAINT FK_MEMBER_TO_REPLY
		CASCADE;

ALTER TABLE REPLY
	DROP
		CONSTRAINT FK_POST_TO_REPLY
		CASCADE;

ALTER TABLE POSTTAG
	DROP
		CONSTRAINT FK_POST_TO_POSTTAG
		CASCADE;

ALTER TABLE POSTTAG
	DROP
		CONSTRAINT FK_TAG_TO_POSTTAG
		CASCADE;

ALTER TABLE IMG_DIRETORY
	DROP
		CONSTRAINT FK_POST_TO_IMG_DIRETORY
		CASCADE;

ALTER TABLE IMG_DIRETORY
	DROP
		CONSTRAINT FK_IMG_TO_IMG_DIRETORY
		CASCADE;

ALTER TABLE PLANNER
	DROP
		CONSTRAINT FK_MEMBER_TO_PLANNER
		CASCADE;

ALTER TABLE INVITE
	DROP
		CONSTRAINT FK_PLANNER_TO_INVITE
		CASCADE;

ALTER TABLE INVITE
	DROP
		CONSTRAINT FK_MEMBER_TO_INVITE
		CASCADE;

ALTER TABLE DETAIL_PLANNER
	DROP
		CONSTRAINT FK_PLANNER_TO_DETAIL_PLANNER
		CASCADE;

ALTER TABLE DETAIL_PLANNER
	DROP
		CONSTRAINT FK_CONTENT_TO_DETAIL_PLANNER
		CASCADE;

ALTER TABLE CONTENT
	DROP
		CONSTRAINT FK_CONTENTTYPE_TO_CONTENT
		CASCADE;

ALTER TABLE CONTENT
	DROP
		CONSTRAINT FK_CAT_TO_CONTENT
		CASCADE;

ALTER TABLE MEMBER
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE POST
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE LIKEY
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE REPLY
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE POSTTAG
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE TAG
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE IMG_DIRETORY
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE IMG
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE PLANNER
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE INVITE
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE DETAIL_PLANNER
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE CONTENT
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE CONTENTTYPE
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE CAT
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE CITY
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

DROP INDEX PK_MEMBER;

DROP INDEX PK_POST;

DROP INDEX PK_LIKEY;

DROP INDEX PK_REPLY;

DROP INDEX PK_POSTTAG;

DROP INDEX PK_TAG;

DROP INDEX PK_IMG_DIRETORY;

DROP INDEX PK_IMG;

DROP INDEX PK_PLANNER;

DROP INDEX PK_INVITE;

DROP INDEX PK_DETAIL_PLANNER;

DROP INDEX PK_CONTENT;

DROP INDEX PK_CONTENTTYPE;

DROP INDEX PK_CAT;

DROP INDEX PK_CITY;

DROP TABLE MEMBER 
	CASCADE CONSTRAINTS;

DROP TABLE POST 
	CASCADE CONSTRAINTS;

DROP TABLE LIKEY 
	CASCADE CONSTRAINTS;

DROP TABLE REPLY 
	CASCADE CONSTRAINTS;

DROP TABLE POSTTAG 
	CASCADE CONSTRAINTS;

DROP TABLE TAG 
	CASCADE CONSTRAINTS;

DROP TABLE IMG_DIRETORY 
	CASCADE CONSTRAINTS;

DROP TABLE IMG 
	CASCADE CONSTRAINTS;

DROP TABLE PLANNER 
	CASCADE CONSTRAINTS;

DROP TABLE INVITE 
	CASCADE CONSTRAINTS;

DROP TABLE DETAIL_PLANNER 
	CASCADE CONSTRAINTS;

DROP TABLE CONTENT 
	CASCADE CONSTRAINTS;

DROP TABLE CONTENTTYPE 
	CASCADE CONSTRAINTS;

DROP TABLE CAT 
	CASCADE CONSTRAINTS;

DROP TABLE CITY 
	CASCADE CONSTRAINTS;

DROP SEQUENCE SEQUENCE_PLANNER;

DROP SEQUENCE SEQUENCE_DETAIL_PLANNER;

DROP SEQUENCE SEQUENCE_INVITE;

DROP SEQUENCE SEQUENCE_MEMBER;

DROP SEQUENCE SEQUENCE_POST;

DROP SEQUENCE SEQUENCE_LIKEY;

DROP SEQUENCE SEQUENCE_REPLY;

DROP SEQUENCE SEQUENCE_IMG_DIRETORY;

DROP SEQUENCE SEQUENCE_POSTTAG;

DROP SEQUENCE SEQUENCE_TAG;

DROP SEQUENCE SEQUENCE_IMG;

DROP SEQUENCE CITYID_SEQ;

DROP SEQUENCE SEQUENCE_DIR_NUM;

CREATE SEQUENCE SEQUENCE_PLANNER 
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1
	ORDER;

CREATE SEQUENCE SEQUENCE_DETAIL_PLANNER  
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1
	ORDER;

CREATE SEQUENCE SEQUENCE_INVITE  
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1
	ORDER;

CREATE SEQUENCE SEQUENCE_MEMBER  
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1
	ORDER;

CREATE SEQUENCE SEQUENCE_POST 
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1
	ORDER;

CREATE SEQUENCE SEQUENCE_LIKEY 
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1
	ORDER;

CREATE SEQUENCE SEQUENCE_REPLY  
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1
	ORDER;

CREATE SEQUENCE SEQUENCE_IMG_DIRETORY  
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1
	ORDER;

CREATE SEQUENCE SEQUENCE_POSTTAG 
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1
	ORDER;

CREATE SEQUENCE SEQUENCE_TAG  
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1
	ORDER;

CREATE SEQUENCE SEQUENCE_IMG 
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1
	ORDER;

CREATE SEQUENCE CITYID_SEQ 
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1;

CREATE SEQUENCE SEQUENCE_DIR_NUM 
	MINVALUE 1
	INCREMENT BY 1
	START WITH 1
	ORDER;

CREATE TABLE MEMBER (
	M_ID NUMBER NOT NULL,
	M_EMAIL VARCHAR2(40) NOT NULL,
	M_PWD VARCHAR2(40) NOT NULL,
	M_GEN VARCHAR2(10) NOT NULL,
	M_NNAME VARCHAR2(20) NOT NULL,
	M_IMAGE VARCHAR2(100),
	M_BIRTH DATE NOT NULL,
	M_RDATE DATE,
	M_STATUS NUMBER,
	M_PROFIL NUMBER
);

CREATE UNIQUE INDEX PK_MEMBER
	ON MEMBER (
		M_ID ASC
	);

ALTER TABLE MEMBER
	ADD
		CONSTRAINT PK_MEMBER
		PRIMARY KEY (
			M_ID
		);

CREATE TABLE POST (
	P_ID NUMBER NOT NULL,
	M_ID NUMBER,
	P_CONTENT VARCHAR2(2000),
	P_TITLE VARCHAR2(200),
	P_VIEWS NUMBER,
	P_CREDATE DATE,
	P_MODDATE DATE
);

CREATE UNIQUE INDEX PK_POST
	ON POST (
		P_ID ASC
	);

ALTER TABLE POST
	ADD
		CONSTRAINT PK_POST
		PRIMARY KEY (
			P_ID
		);

CREATE TABLE LIKEY (
	L_ID NUMBER NOT NULL,
	P_ID NUMBER,
	M_ID NUMBER,
	L_DATE DATE
);

CREATE UNIQUE INDEX PK_LIKEY
	ON LIKEY (
		L_ID ASC
	);

ALTER TABLE LIKEY
	ADD
		CONSTRAINT PK_LIKEY
		PRIMARY KEY (
			L_ID
		);

CREATE TABLE REPLY (
	R_ID NUMBER NOT NULL,
	M_ID NUMBER,
	P_ID NUMBER,
	R_CONTENT VARCHAR2(200) NOT NULL,
	R_CREDATE DATE,
	R_MODDATE DATE,
	R_STATUS NUMBER
);

CREATE UNIQUE INDEX PK_REPLY
	ON REPLY (
		R_ID ASC
	);

ALTER TABLE REPLY
	ADD
		CONSTRAINT PK_REPLY
		PRIMARY KEY (
			R_ID
		);

CREATE TABLE POSTTAG (
	PT_ID NUMBER NOT NULL,
	P_ID NUMBER NOT NULL,
	T_ID NUMBER NOT NULL
);

CREATE UNIQUE INDEX PK_POSTTAG
	ON POSTTAG (
		PT_ID ASC
	);

ALTER TABLE POSTTAG
	ADD
		CONSTRAINT PK_POSTTAG
		PRIMARY KEY (
			PT_ID
		);

CREATE TABLE TAG (
	T_ID NUMBER NOT NULL,
	T_NAME VARCHAR2(40) NOT NULL
);

CREATE UNIQUE INDEX PK_TAG
	ON TAG (
		T_ID ASC
	);

ALTER TABLE TAG
	ADD
		CONSTRAINT PK_TAG
		PRIMARY KEY (
			T_ID
		);

CREATE TABLE IMG_DIRETORY (
	DIR_ID NUMBER NOT NULL,
	P_ID NUMBER,
	I_ID NUMBER,
	DIR_NUM NUMBER
);

CREATE UNIQUE INDEX PK_IMG_DIRETORY
	ON IMG_DIRETORY (
		DIR_ID ASC
	);

ALTER TABLE IMG_DIRETORY
	ADD
		CONSTRAINT PK_IMG_DIRETORY
		PRIMARY KEY (
			DIR_ID
		);

CREATE TABLE IMG (
	I_ID NUMBER NOT NULL,
	I_PATH VARCHAR2(100),
	I_BIRTH DATE,
	I_NAME VARCHAR2(100),
	I_NAME2 VARCHAR2(10)
);

CREATE UNIQUE INDEX PK_IMG
	ON IMG (
		I_ID ASC
	);

ALTER TABLE IMG
	ADD
		CONSTRAINT PK_IMG
		PRIMARY KEY (
			I_ID
		);

CREATE TABLE PLANNER (
	P_ID NUMBER NOT NULL,
	M_ID NUMBER,
	P_NAME VARCHAR2(20),
	P_BIRTH DATE,
	P_MODDATE DATE
);

CREATE UNIQUE INDEX PK_PLANNER
	ON PLANNER (
		P_ID ASC
	);

ALTER TABLE PLANNER
	ADD
		CONSTRAINT PK_PLANNER
		PRIMARY KEY (
			P_ID
		);

CREATE TABLE INVITE (
	I_ID NUMBER NOT NULL,
	P_ID NUMBER,
	M_ID NUMBER,
	I_PER NUMBER,
	I_STATUS NUMBER
);

CREATE UNIQUE INDEX PK_INVITE
	ON INVITE (
		I_ID ASC
	);

ALTER TABLE INVITE
	ADD
		CONSTRAINT PK_INVITE
		PRIMARY KEY (
			I_ID
		);

CREATE TABLE DETAIL_PLANNER (
	DP_ID NUMBER NOT NULL,
	P_ID NUMBER,
	CONTENTID VARCHAR2(200),
	DP_DAY NUMBER,
	DP_NUM NUMBER,
	DP_START DATE,
	DP_END DATE
);

CREATE UNIQUE INDEX PK_DETAIL_PLANNER
	ON DETAIL_PLANNER (
		DP_ID ASC
	);

ALTER TABLE DETAIL_PLANNER
	ADD
		CONSTRAINT PK_DETAIL_PLANNER
		PRIMARY KEY (
			DP_ID
		);

CREATE TABLE CONTENT (
	CONTENTID VARCHAR2(200) NOT NULL,
	CONTENTTYPEID VARCHAR2(20),
	CODE VARCHAR2(20),
	TITLE VARCHAR2(200),
	TEL VARCHAR2(200),
	ADDR VARCHAR2(400),
	FIRSTIMAGE VARCHAR2(600),
	MAPX VARCHAR2(200),
	MAPY VARCHAR2(200),
	OVERVIEW VARCHAR2(4000),
	COUNT NUMBER DEFAULT 1
);

CREATE UNIQUE INDEX PK_CONTENT
	ON CONTENT (
		CONTENTID ASC
	);

ALTER TABLE CONTENT
	ADD
		CONSTRAINT PK_CONTENT
		PRIMARY KEY (
			CONTENTID
		);

CREATE TABLE CONTENTTYPE (
	CONTENTTYPEID VARCHAR2(20) NOT NULL,
	CT_NAME VARCHAR2(200)
);

CREATE UNIQUE INDEX PK_CONTENTTYPE
	ON CONTENTTYPE (
		CONTENTTYPEID ASC
	);

ALTER TABLE CONTENTTYPE
	ADD
		CONSTRAINT PK_CONTENTTYPE
		PRIMARY KEY (
			CONTENTTYPEID
		);

CREATE TABLE CAT (
	CODE VARCHAR2(20) NOT NULL,
	NAME VARCHAR2(200)
);

CREATE UNIQUE INDEX PK_CAT
	ON CAT (
		CODE ASC
	);

ALTER TABLE CAT
	ADD
		CONSTRAINT PK_CAT
		PRIMARY KEY (
			CODE
		);

CREATE TABLE CITY (
	CITYID  VARCHAR2(200) NOT NULL,
	CITYNAME VARCHAR2(20),
	LONGITUDE VARCHAR2(100),
	LATITUDE VARCHAR2(100),
	C_OVERVIEW VARCHAR2(4000),
	C_IMAGE VARCHAR2(1000)
);

CREATE UNIQUE INDEX PK_CITY
	ON CITY (
		CITYID ASC
	);

ALTER TABLE CITY
	ADD
		CONSTRAINT PK_CITY
		PRIMARY KEY (
			CITYID
		);

ALTER TABLE POST
	ADD
		CONSTRAINT FK_MEMBER_TO_POST
		FOREIGN KEY (
			M_ID
		)
		REFERENCES MEMBER (
			M_ID
		);

ALTER TABLE LIKEY
	ADD
		CONSTRAINT FK_POST_TO_LIKEY
		FOREIGN KEY (
			P_ID
		)
		REFERENCES POST (
			P_ID
		);

ALTER TABLE LIKEY
	ADD
		CONSTRAINT FK_MEMBER_TO_LIKEY
		FOREIGN KEY (
			M_ID
		)
		REFERENCES MEMBER (
			M_ID
		);

ALTER TABLE REPLY
	ADD
		CONSTRAINT FK_MEMBER_TO_REPLY
		FOREIGN KEY (
			M_ID
		)
		REFERENCES MEMBER (
			M_ID
		);

ALTER TABLE REPLY
	ADD
		CONSTRAINT FK_POST_TO_REPLY
		FOREIGN KEY (
			P_ID
		)
		REFERENCES POST (
			P_ID
		);

ALTER TABLE POSTTAG
	ADD
		CONSTRAINT FK_POST_TO_POSTTAG
		FOREIGN KEY (
			P_ID
		)
		REFERENCES POST (
			P_ID
		);

ALTER TABLE POSTTAG
	ADD
		CONSTRAINT FK_TAG_TO_POSTTAG
		FOREIGN KEY (
			T_ID
		)
		REFERENCES TAG (
			T_ID
		);

ALTER TABLE IMG_DIRETORY
	ADD
		CONSTRAINT FK_POST_TO_IMG_DIRETORY
		FOREIGN KEY (
			P_ID
		)
		REFERENCES POST (
			P_ID
		);

ALTER TABLE IMG_DIRETORY
	ADD
		CONSTRAINT FK_IMG_TO_IMG_DIRETORY
		FOREIGN KEY (
			I_ID
		)
		REFERENCES IMG (
			I_ID
		);

ALTER TABLE PLANNER
	ADD
		CONSTRAINT FK_MEMBER_TO_PLANNER
		FOREIGN KEY (
			M_ID
		)
		REFERENCES MEMBER (
			M_ID
		);

ALTER TABLE INVITE
	ADD
		CONSTRAINT FK_PLANNER_TO_INVITE
		FOREIGN KEY (
			P_ID
		)
		REFERENCES PLANNER (
			P_ID
		);

ALTER TABLE INVITE
	ADD
		CONSTRAINT FK_MEMBER_TO_INVITE
		FOREIGN KEY (
			M_ID
		)
		REFERENCES MEMBER (
			M_ID
		);

ALTER TABLE DETAIL_PLANNER
	ADD
		CONSTRAINT FK_PLANNER_TO_DETAIL_PLANNER
		FOREIGN KEY (
			P_ID
		)
		REFERENCES PLANNER (
			P_ID
		)
		ON DELETE CASCADE;

ALTER TABLE DETAIL_PLANNER
	ADD
		CONSTRAINT FK_CONTENT_TO_DETAIL_PLANNER
		FOREIGN KEY (
			CONTENTID
		)
		REFERENCES CONTENT (
			CONTENTID
		);

ALTER TABLE CONTENT
	ADD
		CONSTRAINT FK_CONTENTTYPE_TO_CONTENT
		FOREIGN KEY (
			CONTENTTYPEID
		)
		REFERENCES CONTENTTYPE (
			CONTENTTYPEID
		);

ALTER TABLE CONTENT
	ADD
		CONSTRAINT FK_CAT_TO_CONTENT
		FOREIGN KEY (
			CODE
		)
		REFERENCES CAT (
			CODE
		);